(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[16],{1219:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(1406);class o extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),i,2)}}t.EthereumRpcError=o;function i(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=class extends o{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},1220:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},1237:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},1238:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(81);function o(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((()=>{throw n}))}}class i extends n.EventEmitter{emit(e){let t="error"===e;const r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;const t=new Error("Unhandled error."+(e?` (${e.message})`:""));throw t.context=e,t}const a=r[e];if(void 0===a)return!1;if("function"===typeof a)o(a,this,i);else{const e=a.length,t=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(a);for(let r=0;r<e;r+=1)o(t[r],this,i)}return!0}}t.default=i},1239:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(1219);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const o=r(1358);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}});const i=r(1496);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});const s=r(1220);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})},1358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(1220),o=r(1219),i=n.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",a={code:i,message:c(i)};function c(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(d(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!d(e)}function d(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=c,t.isValidCode=u,t.serializeError=function(e){let{fallbackError:t=a,shouldIncludeStack:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;if(!t||!Number.isInteger(t.code)||"string"!==typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();const s={};if(e&&"object"===typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;s.code=t.code,t.message&&"string"===typeof t.message?(s.message=t.message,f(t,"data")&&(s.data=t.data)):(s.message=c(s.code),s.data={originalError:l(e)})}else{s.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;s.message=r&&"string"===typeof r?r:t.message,s.data={originalError:l(e)}}const d=null===(i=e)||void 0===i?void 0:i.stack;return r&&e&&d&&"string"===typeof d&&(s.stack=d),s}},1406:function(e,t){e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var r="[...]",n="[Circular]",o=[],i=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,r,n){var a;"undefined"===typeof n&&(n=s()),u(e,"",0,[],void 0,0,n);try{a=0===i.length?JSON.stringify(e,t,r):JSON.stringify(e,h(t),r)}catch(d){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var c=o.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function c(e,t,r,n){var s=Object.getOwnPropertyDescriptor(n,r);void 0!==s.get?s.configurable?(Object.defineProperty(n,r,{value:e}),o.push([n,r,t,s])):i.push([t,r,e]):(n[r]=e,o.push([n,r,t]))}function u(e,t,o,i,s,a,d){var l;if(a+=1,"object"===typeof e&&null!==e){for(l=0;l<i.length;l++)if(i[l]===e)return void c(n,e,t,s);if("undefined"!==typeof d.depthLimit&&a>d.depthLimit)return void c(r,e,t,s);if("undefined"!==typeof d.edgesLimit&&o+1>d.edgesLimit)return void c(r,e,t,s);if(i.push(e),Array.isArray(e))for(l=0;l<e.length;l++)u(e[l],l,l,i,e,a,d);else{var f=Object.keys(e);for(l=0;l<f.length;l++){var h=f[l];u(e[h],h,l,i,e,a,d)}}i.pop()}}function d(e,t){return e<t?-1:e>t?1:0}function l(e,t,r,n){"undefined"===typeof n&&(n=s());var a,c=f(e,"",0,[],void 0,0,n)||e;try{a=0===i.length?JSON.stringify(c,t,r):JSON.stringify(c,h(t),r)}catch(d){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var u=o.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function f(e,t,i,s,a,u,l){var h;if(u+=1,"object"===typeof e&&null!==e){for(h=0;h<s.length;h++)if(s[h]===e)return void c(n,e,t,a);try{if("function"===typeof e.toJSON)return}catch(m){return}if("undefined"!==typeof l.depthLimit&&u>l.depthLimit)return void c(r,e,t,a);if("undefined"!==typeof l.edgesLimit&&i+1>l.edgesLimit)return void c(r,e,t,a);if(s.push(e),Array.isArray(e))for(h=0;h<e.length;h++)f(e[h],h,h,s,e,u,l);else{var p={},g=Object.keys(e).sort(d);for(h=0;h<g.length;h++){var y=g[h];f(e[y],y,h,s,e,u,l),p[y]=e[y]}if("undefined"===typeof a)return p;o.push([a,t,e]),a[t]=p}s.pop()}}function h(e){return e="undefined"!==typeof e?e:function(e,t){return t},function(t,r){if(i.length>0)for(var n=0;n<i.length;n++){var o=i[n];if(o[1]===t&&o[0]===r){r=o[2],i.splice(n,1);break}}return e.call(this,t,r)}}},1441:function(e,t,r){var n="undefined"!==typeof JSON?JSON:r(1442);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r=t.space||"";"number"===typeof r&&(r=Array(r+1).join(" "));var s,a="boolean"===typeof t.cycles&&t.cycles,c=t.replacer||function(e,t){return t},u=t.cmp&&(s=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},o={key:r,value:e[r]};return s(n,o)}}),d=[];return function e(t,s,l,f){var h=r?"\n"+new Array(f+1).join(r):"",p=r?": ":":";if(l&&l.toJSON&&"function"===typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=c.call(t,s,l))){if("object"!==typeof l||null===l)return n.stringify(l);if(o(l)){for(var g=[],y=0;y<l.length;y++){var m=e(l,y,l[y],f+1)||n.stringify(null);g.push(h+r+m)}return"["+g.join(",")+h+"]"}if(-1!==d.indexOf(l)){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}d.push(l);var b=i(l).sort(u&&u(l));for(g=[],y=0;y<b.length;y++){var v=e(l,s=b[y],l[s],f+1);if(v){var w=n.stringify(s)+p+v;g.push(h+r+w)}}return d.splice(d.indexOf(l),1),"{"+g.join(",")+h+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},1442:function(e,t,r){t.parse=r(1443),t.stringify=r(1444)},1443:function(e,t){var r,n,o,i,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},c=function(e){return e&&e!==n&&a("Expected '"+e+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},u=function(){var e,t="";for("-"===n&&(t="-",c("-"));n>="0"&&n<="9";)t+=n,c();if("."===n)for(t+=".";c()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,c(),"-"!==n&&"+"!==n||(t+=n,c());n>="0"&&n<="9";)t+=n,c();if(e=+t,isFinite(e))return e;a("Bad number")},d=function(){var e,t,r,o="";if('"'===n)for(;c();){if('"'===n)return c(),o;if("\\"===n)if(c(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!==typeof s[n])break;o+=s[n]}else o+=n}a("Bad string")},l=function(){for(;n&&n<=" ";)c()};i=function(){switch(l(),n){case"{":return function(){var e,t={};if("{"===n){if(c("{"),l(),"}"===n)return c("}"),t;for(;n;){if(e=d(),l(),c(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=i(),l(),"}"===n)return c("}"),t;c(","),l()}}a("Bad object")}();case"[":return function(){var e=[];if("["===n){if(c("["),l(),"]"===n)return c("]"),e;for(;n;){if(e.push(i()),l(),"]"===n)return c("]"),e;c(","),l()}}a("Bad array")}();case'"':return d();case"-":return u();default:return n>="0"&&n<="9"?u():function(){switch(n){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}a("Unexpected '"+n+"'")}()}},e.exports=function(e,t){var s;return o=e,r=0,n=" ",s=i(),l(),n&&a("Syntax error"),"function"===typeof t?function e(r,n){var o,i,s=r[n];if(s&&"object"===typeof s)for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(void 0!==(i=e(s,o))?s[o]=i:delete s[o]);return t.call(r,n,s)}({"":s},""):s}},1444:function(e,t){var r,n,o,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=s[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function c(e,t){var i,s,u,d,l,f=r,h=t[e];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(e)),"function"===typeof o&&(h=o.call(t,e,h)),typeof h){case"string":return a(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(r+=n,l=[],"[object Array]"===Object.prototype.toString.apply(h)){for(d=h.length,i=0;i<d;i+=1)l[i]=c(i,h)||"null";return u=0===l.length?"[]":r?"[\n"+r+l.join(",\n"+r)+"\n"+f+"]":"["+l.join(",")+"]",r=f,u}if(o&&"object"===typeof o)for(d=o.length,i=0;i<d;i+=1)"string"===typeof(s=o[i])&&(u=c(s,h))&&l.push(a(s)+(r?": ":":")+u);else for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(u=c(s,h))&&l.push(a(s)+(r?": ":":")+u);return u=0===l.length?"{}":r?"{\n"+r+l.join(",\n"+r)+"\n"+f+"}":"{"+l.join(",")+"}",r=f,u}}e.exports=function(e,t,i){var s;if(r="",n="","number"===typeof i)for(s=0;s<i;s+=1)n+=" ";else"string"===typeof i&&(n=i);if(o=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return c("",{"":e})}},1492:function(e,t,r){var n,o;!function(i,s){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"===typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(n){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}function a(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function c(e,r,n){return function(){typeof console!==t&&(a.call(this,r,n),this[e].apply(this,arguments))}}function u(e,t,r){return s(e)||c.apply(this,arguments)}function d(e,r,o){var i,s=this;r=null==r?"WARN":r;var c="loglevel";function d(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=r)}catch(o){}try{window.document.cookie=encodeURIComponent(c)+"="+r+";"}catch(o){}}}function l(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(o){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(o){}return void 0===s.levels[e]&&(e=void 0),e}}function f(){if(typeof window!==t&&c){try{return void window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?c+=":"+e:"symbol"===typeof e&&(c=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=o||u,s.getLevel=function(){return i},s.setLevel=function(r,n){if("string"===typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"===typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==n&&d(r),a.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){r=e,l()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(r,!1),f()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var h=l();null==h&&(h=r),s.setLevel(h,!1)}var l=new d,f={};l.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new d(e,l.getLevel(),l.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=h),l},l.getLoggers=function(){return f},l.default=l,l},void 0===(o="function"===typeof n?n.call(t,r,t,e):n)||(e.exports=o)}()},1493:function(e,t,r){var n=r(1996);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},1494:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},1495:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableStore=void 0;const o=n(r(1238));class i extends o.default{constructor(e){super(),this._state=e||{}}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"===typeof e){const t=this.getState();this.putState(Object.assign(Object.assign({},t),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}t.ObservableStore=i},1496:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(1219),o=r(1358),i=r(1220);function s(e,t){const[r,i]=c(t);return new n.EthereumRpcError(e,r||o.getMessageFromCode(e),i)}function a(e,t){const[r,i]=c(t);return new n.EthereumProviderError(e,r||o.getMessageFromCode(e),i)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>s(i.errorCodes.rpc.parse,e),invalidRequest:e=>s(i.errorCodes.rpc.invalidRequest,e),invalidParams:e=>s(i.errorCodes.rpc.invalidParams,e),methodNotFound:e=>s(i.errorCodes.rpc.methodNotFound,e),internal:e=>s(i.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(i.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(i.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(i.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(i.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(i.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(i.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(i.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(i.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(i.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(i.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(i.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:o}=e;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,o)}}}},1599:function(e,t,r){"use strict";r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h}));var n=r(1237),o=r.n(n),i=r(1600),s=r.n(i),a=r(1492);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=r.n(a).a.getLogger("http-helpers");d.setLevel(a.levels.INFO);let l="torus-default",f="";function h(e){f=e}function p(e){l=e}function g(){const e={};return l&&(e["x-api-key"]=l),f&&(e["x-embed-host"]=f),e}function y(e){d.info("Response: ".concat(e.status," ").concat(e.statusText)),d.info("Url: ".concat(e.url))}const m=(e,t)=>{const r=new Promise(((t,r)=>{const n=setTimeout((()=>{clearTimeout(n),r(new Error("Timed out in ".concat(e,"ms")))}),e)}));return Promise.race([t,r])},b=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=u(u({},n.headers),g()));const o=s()(n,t,{method:"GET"}),i=await fetch(e,o);if(i.ok)return i.json();throw y(i),i},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(o.headers=u(u({},o.headers),g()));const i=s()(o,r,{method:"POST"});return n.isUrlEncodedData?(i.body=t,"application/json; charset=utf-8"===i.headers["Content-Type"]&&delete i.headers["Content-Type"]):i.body=JSON.stringify(t),m(n.timeout||6e4,fetch(e,i).then((e=>{if(e.ok)return e.json();throw y(e),e})))},w=(e,t)=>({jsonrpc:"2.0",method:e,id:10,params:t})},1600:function(e,t,r){(function(e,r){var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Function]",a="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[i]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[s]=d["[object Map]"]=d["[object Number]"]=d[a]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,h=l||f||Function("return this")(),p=t&&!t.nodeType&&t,g=p&&"object"==typeof r&&r&&!r.nodeType&&r,y=g&&g.exports===p,m=y&&l.process,b=function(){try{var e=g&&g.require&&g.require("util").types;return e||m&&m.binding&&m.binding("util")}catch(t){}}(),v=b&&b.isTypedArray;function w(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _,O,x=Array.prototype,S=Function.prototype,k=Object.prototype,P=h["__core-js_shared__"],j=S.toString,E=k.hasOwnProperty,C=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),A=k.toString,I=j.call(Object),M=RegExp("^"+j.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=y?h.Buffer:void 0,R=h.Symbol,N=h.Uint8Array,D=T?T.allocUnsafe:void 0,L=(_=Object.getPrototypeOf,O=Object,function(e){return _(O(e))}),U=Object.create,B=k.propertyIsEnumerable,q=x.splice,F=R?R.toStringTag:void 0,V=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),K=T?T.isBuffer:void 0,W=Math.max,H=Date.now,z=pe(h,"Map"),J=pe(Object,"create"),Y=function(){function e(){}return function(t){if(!Pe(t))return{};if(U)return U(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function G(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=this.__data__=new X(e);this.size=t.size}function Q(e,t){var r=_e(e),n=!r&&we(e),o=!r&&!n&&xe(e),i=!r&&!n&&!o&&Ee(e),s=r||n||o||i,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var u in e)!t&&!E.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ge(u,c))||a.push(u);return a}function ee(e,t,r){(void 0!==r&&!ve(e[t],r)||void 0===r&&!(t in e))&&ne(e,t,r)}function te(e,t,r){var n=e[t];E.call(e,t)&&ve(n,r)&&(void 0!==r||t in e)||ne(e,t,r)}function re(e,t){for(var r=e.length;r--;)if(ve(e[r][0],t))return r;return-1}function ne(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}G.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(J){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:E.call(t,e)},G.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=J&&void 0===t?n:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,r=re(t,e);return!(r<0)&&(r==t.length-1?t.pop():q.call(t,r,1),--this.size,!0)},X.prototype.get=function(e){var t=this.__data__,r=re(t,e);return r<0?void 0:t[r][1]},X.prototype.has=function(e){return re(this.__data__,e)>-1},X.prototype.set=function(e,t){var r=this.__data__,n=re(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},$.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(z||X),string:new G}},$.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},$.prototype.get=function(e){return he(this,e).get(e)},$.prototype.has=function(e){return he(this,e).has(e)},$.prototype.set=function(e,t){var r=he(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new X,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var r=this.__data__;if(r instanceof X){var n=r.__data__;if(!z||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $(n)}return r.set(e,t),this.size=r.size,this};var oe,ie=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),s=i.length;s--;){var a=i[oe?s:++n];if(!1===t(o[a],a,o))break}return e};function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=E.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch(i){}var o=A.call(e);n&&(t?e[F]=r:delete e[F]);return o}(e):function(e){return A.call(e)}(e)}function ae(e){return je(e)&&se(e)==i}function ce(e){return!(!Pe(e)||function(e){return!!C&&C in e}(e))&&(Se(e)?M:c).test(function(e){if(null!=e){try{return j.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function ue(e){if(!Pe(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ye(e),r=[];for(var n in e)("constructor"!=n||!t&&E.call(e,n))&&r.push(n);return r}function de(e,t,r,n,o){e!==t&&ie(t,(function(i,s){if(o||(o=new Z),Pe(i))!function(e,t,r,n,o,i,s){var c=me(e,r),u=me(t,r),d=s.get(u);if(d)return void ee(e,r,d);var l=i?i(c,u,r+"",e,t,s):void 0,f=void 0===l;if(f){var h=_e(u),p=!h&&xe(u),g=!h&&!p&&Ee(u);l=u,h||p||g?_e(c)?l=c:je(y=c)&&Oe(y)?l=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(c):p?(f=!1,l=function(e,t){if(t)return e.slice();var r=e.length,n=D?D(r):new e.constructor(r);return e.copy(n),n}(u,!0)):g?(f=!1,l=function(e,t){var r=t?function(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(u,!0)):l=[]:function(e){if(!je(e)||se(e)!=a)return!1;var t=L(e);if(null===t)return!0;var r=E.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&j.call(r)==I}(u)||we(u)?(l=c,we(c)?l=function(e){return function(e,t,r,n){var o=!r;r||(r={});var i=-1,s=t.length;for(;++i<s;){var a=t[i],c=n?n(r[a],e[a],a,r,e):void 0;void 0===c&&(c=e[a]),o?ne(r,a,c):te(r,a,c)}return r}(e,Ce(e))}(c):Pe(c)&&!Se(c)||(l=function(e){return"function"!=typeof e.constructor||ye(e)?{}:Y(L(e))}(u))):f=!1}var y;f&&(s.set(u,l),o(l,u,n,i,s),s.delete(u));ee(e,r,l)}(e,t,s,r,de,n,o);else{var c=n?n(me(e,s),i,s+"",e,t,o):void 0;void 0===c&&(c=i),ee(e,s,c)}}),Ce)}function le(e,t){return be(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=W(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=r(s),w(e,this,a)}}(e,t,Me),e+"")}var fe=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Me;function he(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function pe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ce(r)?r:void 0}function ge(e,t){var r=typeof e;return!!(t=null==t?o:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function me(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var be=function(e){var t=0,r=0;return function(){var n=H(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fe);function ve(e,t){return e===t||e!==e&&t!==t}var we=ae(function(){return arguments}())?ae:function(e){return je(e)&&E.call(e,"callee")&&!B.call(e,"callee")},_e=Array.isArray;function Oe(e){return null!=e&&ke(e.length)&&!Se(e)}var xe=K||function(){return!1};function Se(e){if(!Pe(e))return!1;var t=se(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var Ee=v?function(e){return function(t){return e(t)}}(v):function(e){return je(e)&&ke(e.length)&&!!d[se(e)]};function Ce(e){return Oe(e)?Q(e,!0):ue(e)}var Ae,Ie=(Ae=function(e,t,r){de(e,t,r)},le((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=Ae.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!Pe(r))return!1;var n=typeof t;return!!("number"==n?Oe(r)&&ge(t,r.length):"string"==n&&t in r)&&ve(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var s=t[r];s&&Ae(e,s,r,o)}return e})));function Me(e){return e}r.exports=Ie}).call(this,r(35),r(96)(e))},1601:function(e,t,r){(function(t){var n=r(1493),o=function(){},i=function(e,r,s){if("function"===typeof r)return i(e,null,r);r||(r={}),s=n(s||o);var a=e._writableState,c=e._readableState,u=r.readable||!1!==r.readable&&e.readable,d=r.writable||!1!==r.writable&&e.writable,l=!1,f=function(){e.writable||h()},h=function(){d=!1,u||s.call(e)},p=function(){u=!1,d||s.call(e)},g=function(t){s.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){s.call(e,t)},m=function(){t.nextTick(b)},b=function(){if(!l)return(!u||c&&c.ended&&!c.destroyed)&&(!d||a&&a.ended&&!a.destroyed)?void 0:s.call(e,new Error("premature close"))},v=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?d&&!a&&(e.on("end",f),e.on("close",f)):(e.on("complete",h),e.on("abort",m),e.req?v():e.on("request",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==r.error&&e.on("error",y),e.on("close",m),function(){l=!0,e.removeListener("complete",h),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",h),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",m)}};e.exports=i}).call(this,r(31))},1602:function(e,t,r){(function(t){var n=r(1493),o=r(1601),i=r(1997),s=function(){},a=/^v?\.0/.test(t.version),c=function(e){return"function"===typeof e},u=function(e,t,r,u){u=n(u);var d=!1;e.on("close",(function(){d=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return u(e);d=!0,u()}));var l=!1;return function(t){if(!d&&!l)return l=!0,function(e){return!!a&&!!i&&(e instanceof(i.ReadStream||s)||e instanceof(i.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},d=function(e){e()},l=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(o,i){var s=i<t.length-1;return u(o,s,i>0,(function(t){e||(e=t),t&&n.forEach(d),s||(n.forEach(d),r(e))}))}));return t.reduce(l)}}).call(this,r(31))},1603:function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},1604:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},1605:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},1987:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"BUTTON_POSITION",(function(){return C})),r.d(t,"LOGIN_PROVIDER",(function(){return k})),r.d(t,"PAYMENT_PROVIDER",(function(){return j})),r.d(t,"TORUS_BUILD_ENV",(function(){return E})),r.d(t,"TorusInpageProvider",(function(){return G})),r.d(t,"WALLET_OPENLOGIN_VERIFIER_MAP",(function(){return P})),r.d(t,"default",(function(){return de}));var n=r(1988),o=r.n(n),i=r(1237),s=r.n(i),a=r(1990),c=r(1599),u=r(1991),d=r(1998),l=r(1600),f=r.n(l),h=r(2015),p=r(1239),g=r(2021),y=r.n(g),m=r(2022),b=r(1602),v=r.n(b),w=r(1492),_=r.n(w),O=r(89),x=r.n(O),S=r(81);const k={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord"},P={[k.GOOGLE]:"tkey-google",[k.FACEBOOK]:"tkey-facebook",[k.TWITCH]:"tkey-twitch",[k.REDDIT]:"tkey-reddit",[k.DISCORD]:"tkey-discord"},j={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak"},E={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta"},C={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},A={[j.RAMPNETWORK]:{line1:"Debit Card/ Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:["GBP","EUR","USD"],validCryptoCurrencies:["ETH","DAI","USDC","BSC_BNB"],includeFees:!0,enforceMax:!1},[j.MOONPAY]:{line1:"Credit / Debit Card / Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:["USD","EUR","GBP","AUD","CAD","SGD","RUB"],validCryptoCurrencies:["ETH","DAI","TUSD","USDC","USDT","BNB_BSC","BUSD_BSC"],includeFees:!0,enforceMax:!1},[j.WYRE]:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:["USD","AUD","CAD","GBP","EUR"],validCryptoCurrencies:["ETH","DAI","USDC","USDT"],includeFees:!1,enforceMax:!1},[j.XANPOOL]:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ VietelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:["SGD","HKD","MYR","PHP","INR","VND","THB","IDR"],validCryptoCurrencies:["ETH","USDT"],includeFees:!0,sell:!0,enforceMax:!1},[j.MERCURYO]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:["USD","EUR","RUB","TRY","GBP","UAH"],validCryptoCurrencies:["ETH","DAI","BAT","USDT","OKB"],includeFees:!0,enforceMax:!1},[j.TRANSAK]:{line1:"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)",line2:"0.99% - 5.5% or 5 USD",line3:"500\u20ac/day",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:20,maxOrderValue:500,validCurrencies:["USD","EUR","GBP","AUD","CAD","SGD"],validCryptoCurrencies:["ETH","DAI","USDC","USDT"],includeFees:!0,enforceMax:!1}};var I={supportedVerifierList:[k.GOOGLE,k.REDDIT,k.DISCORD],paymentProviders:A,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)};const M=e=>new Promise(((t,r)=>{null!=window.document.body?Promise.resolve(e()).then(t).catch(r):window.document.addEventListener("DOMContentLoaded",(()=>{Promise.resolve(e()).then(t).catch(r)}))})),T=e=>{const t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild},R=(e,t,r)=>{const n=o=>{r(o),e.removeListener(t,n)};e.on(t,n)};async function N(){return new Promise((e=>{"loading"!==document.readyState?e():function(e,t,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];const s=()=>{r(...o),e.removeEventListener(t,s)};e.addEventListener(t,s)}(document,"DOMContentLoaded",e)}))}var D=_.a.getLogger("torus-embed"),L={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(e,t)=>"Invalid options. Received: { maxEventListeners: ".concat(e,", shouldSendMetadata: ").concat(t," }"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>"'args.logger' must include required method '".concat(e,"'.")},info:{connected:e=>'Torus: Connected to chain with ID "'.concat(e,'".')},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};const{paymentProviders:U}=I;function B(e,t,r){let n='MetaMask: Lost connection to "'.concat(e,'".');null!==t&&void 0!==t&&t.stack&&(n+="\n".concat(t.stack)),D.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}const q=()=>Math.random().toString(36).slice(2),F=async(e,t)=>{let r,n;const o="1.21.0";let i=t.version||o;try{if(("binance"===e||"production"===e)&&!t.version){let e;e=I.prodTorusUrl?{data:I.prodTorusUrl}:await Object(c.b)("".concat(I.api,"/latestversion?name=@toruslabs/torus-embed&version=").concat(o),{},{useAPIKey:!0}),i=e.data,I.prodTorusUrl=e.data}}catch(s){D.error(s,"unable to fetch latest version")}switch(D.info("version used: ",i),e){case"binance":r="https://binance.tor.us/v".concat(i),n="info";break;case"testing":r="https://testing.tor.us",n="debug";break;case"lrc":r="https://lrc.tor.us",n="debug";break;case"beta":r="https://beta.tor.us",n="debug";break;case"development":r="http://localhost:4050",n="debug";break;default:r="https://app.tor.us/v".concat(i),n="error"}return{torusUrl:r,logLevel:n}},V=()=>{let e=window.navigator.language||"en-US";const t=e.split("-");return e=Object.prototype.hasOwnProperty.call(I.translations,t[0])?t[0]:"en",e},K=["eth_subscription"],W=()=>{},H="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",z="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}u.d.defaultMaxListeners=100;const Y=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(n,o)=>n||o.error?t(n||o.error):!r||Array.isArray(o)?e(o):e(o.result)};class G extends u.d{constructor(e){let{maxEventListeners:t=100,shouldSendMetadata:r=!0,jsonRpcStreamName:n="provider"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),s()(this,"chainId",void 0),s()(this,"selectedAddress",void 0),s()(this,"_rpcEngine",void 0),s()(this,"networkVersion",void 0),s()(this,"shouldSendMetadata",void 0),s()(this,"isTorus",void 0),s()(this,"_publicConfigStore",void 0),s()(this,"tryPreopenHandle",void 0),s()(this,"enable",void 0),s()(this,"_state",void 0),s()(this,"_jsonRpcConnection",void 0),s()(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!Object(m.isDuplexStream)(e))throw new Error(L.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(t),this._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},G._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=r,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const o=new u.c;v()(e,o,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new h.ObservableStore({storageKey:"Metamask-Config"}),v()(o.createStream("publicConfig"),Object(h.storeAsStream)(this._publicConfigStore),B.bind(this,"MetaMask PublicConfigStore")),o.ignoreStream("phishing"),this.on("connect",(()=>{this._state.isConnected=!0}));const i=Object(u.f)();v()(i.stream,o.createStream(n),i.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const a=new u.b;a.push(Object(u.e)()),a.push(((e,t,r)=>{"string"===typeof e.method&&e.method||(t.error=p.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r((e=>{const{error:r}=t;return r?(D.error("MetaMask - RPC Error: ".concat(r.message),r),e()):e()}))})),a.push(i.middleware),this._rpcEngine=a,i.events.on("notification",(e=>{const{method:t,params:r}=e;"wallet_accountsChanged"===t?this._handleAccountsChanged(r):"wallet_unlockStateChanged"===t?this._handleUnlockStateChanged(r):"wallet_chainChanged"===t?this._handleChainChanged(r):K.includes(e.method)&&(this.emit("data",e),this.emit("notification",r.result),this.emit("message",{type:t,data:r}))}))}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(D.warn(L.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!==typeof e||Array.isArray(e))throw p.ethErrors.rpc.invalidRequest({message:L.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!==typeof t||0===t.length)throw p.ethErrors.rpc.invalidRequest({message:L.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!==typeof r||null===r))throw p.ethErrors.rpc.invalidRequest({message:L.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},Y(e,n))}))}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"wallet_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){D.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{D.info("initialized state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t;const o=e;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc="2.0"),"eth_accounts"===o.method||"eth_requestAccounts"===o.method)n=(e,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===o.method,r),t(e,n)};else if("wallet_getProviderState"===o.method)return void this._rpcEngine.handle(e,n);this.tryPreopenHandle(o,n)}send(e,t){return this._sentWarnings.send||(D.warn(L.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!==typeof e||t&&!Array.isArray(t)?e&&"object"===typeof e&&"function"===typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},Y(r,n,!1))}catch(o){n(o)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,W),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(L.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),D.debug(L.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new p.EthereumRpcError(1013,t||L.errors.disconnected()),D.debug(r)):(r=new p.EthereumRpcError(1011,t||L.errors.permanentlyDisconnected()),D.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){B(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;Array.isArray(n)||(D.error("MetaMask: Received non-array accounts parameter. Please report this bug.",n),n=[]);for(const o of e)if("string"!==typeof o){D.error("MetaMask: Received non-string account. Please report this bug.",e),n=[];break}y()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&D.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}_handleChainChanged(){let{chainId:e,networkVersion:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):D.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"===typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):D.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t})}_warnOfDeprecation(e){!1===this._sentWarnings.events[e]&&(D.warn(L.warnings.events[e]),this._sentWarnings.events[e]=!0)}}s()(G,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const X=(e,t)=>{const r={};return e.algorithms.forEach((e=>{r[e]=x()(e).update(t,"utf8").digest("base64")})),r},$=(e,t)=>{const r=(e=>({algorithms:e.algorithms||["sha256"],delimiter:e.delimiter||" ",full:e.full||!1}))(e),n={hashes:X(r,t),integrity:void 0};return n.integrity=((e,t)=>{let r="";return r+=Object.keys(t.hashes).map((e=>"".concat(e,"-").concat(t.hashes[e]))).join(e.delimiter),r})(r,n),r.full?n:n.integrity};class Z extends S.EventEmitter{constructor(e){let{url:t,target:r,features:n}=e;super(),s()(this,"url",void 0),s()(this,"target",void 0),s()(this,"features",void 0),s()(this,"window",void 0),s()(this,"windowTimer",void 0),s()(this,"iClosedWindow",void 0),this.url=t,this.target=r||"_blank",this.features=n||function(){const e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=Math.abs((r-1200)/2/1+e),i=Math.abs((n-700)/2/1+t);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(i,",left=").concat(o)}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval((()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)}),500))}open(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}function Q(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(n){r(n)}}))}const ee=e=>{const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function te(e){const{document:t}=e;let r=t.querySelector('head > link[rel="shortcut icon"]');return r&&await Q(r.href)?r.href:(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find((e=>Boolean(e.href))),r&&await Q(r.href)?r.href:null)}async function re(e){try{const t=await(async()=>({name:ee(window),icon:await te(window)}))();e.handle({jsonrpc:"2.0",id:q(),method:"wallet_sendDomainMetadata",params:t},W)}catch(t){D.error({message:L.errors.sendSiteMetadata(),originalError:t})}}const ne=["host","chainId","networkName"];function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const se={[k.GOOGLE]:!0,[k.FACEBOOK]:!0,[k.REDDIT]:!0,[k.TWITCH]:!0,[k.DISCORD]:!0},ae="sha384-I1qqxsIO3trXzTO78PZoXvNamECKTo3uCnztKxjV0MmFWtmZY3uBpnJlhO7z/WBw",ce=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"],ue=function(e){let t;try{t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(r){return r&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&t&&0!==t.length}}("localStorage");!async function(){try{if("undefined"===typeof document)return;const e=document.createElement("link"),{torusUrl:t}=await F("production",{check:!1,hash:ae,version:""});e.href="".concat(t,"/popup"),e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){D.warn(e)}}();class de{constructor(){let{buttonPosition:e=C.BOTTOM_LEFT,modalZIndex:t=99999,apiKey:r="torus-default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,"buttonPosition",C.BOTTOM_LEFT),s()(this,"torusUrl",void 0),s()(this,"torusIframe",void 0),s()(this,"styleLink",void 0),s()(this,"isLoggedIn",void 0),s()(this,"isInitialized",void 0),s()(this,"torusWidgetVisibility",void 0),s()(this,"torusAlert",void 0),s()(this,"nodeDetailManager",void 0),s()(this,"torusJs",void 0),s()(this,"apiKey",void 0),s()(this,"modalZIndex",void 0),s()(this,"alertZIndex",void 0),s()(this,"torusAlertContainer",void 0),s()(this,"isIframeFullScreen",void 0),s()(this,"whiteLabel",void 0),s()(this,"requestedVerifier",void 0),s()(this,"currentVerifier",void 0),s()(this,"embedTranslations",void 0),s()(this,"ethereum",void 0),s()(this,"provider",void 0),s()(this,"communicationMux",void 0),s()(this,"isLoginCallback",void 0),s()(this,"dappStorageKey",void 0),s()(this,"paymentProviders",I.paymentProviders),s()(this,"loginHint",""),s()(this,"useWalletConnect",void 0),this.buttonPosition=e,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.nodeDetailManager=new a.a,this.torusJs=new d.a({metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow"}),this.apiKey=r,d.a.setAPIKey(r),Object(c.d)(r),this.modalZIndex=t,this.alertZIndex=t+1e3,this.isIframeFullScreen=!1,this.dappStorageKey=""}async init(){let{buildEnv:e=E.PRODUCTION,enableLogging:t=!1,enabledVerifiers:r=se,network:n={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:o={},showTorusButton:i=!0,integrity:s={check:!1,hash:ae,version:""},whiteLabel:a,skipTKey:c=!1,useLocalStorage:u=!1,useWalletConnect:d=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");const{torusUrl:l,logLevel:h}=await F(e,s);D.info(l,"url loaded"),this.torusUrl=l,this.whiteLabel=a,this.useWalletConnect=d,D.setDefaultLevel(h),t?D.enableAll():D.disableAll(),this.torusWidgetVisibility=i;let p="";if(ue&&u){const e=window.localStorage.getItem(I.localStorageKey);if(e)p=e;else{const e="torus-app-".concat(q());window.localStorage.setItem(I.localStorageKey,e),p=e}}this.dappStorageKey=p;const g=new URL(l);g.pathname.endsWith("/")?g.pathname+="popup":g.pathname+="/popup",p&&(g.hash="#dappStorageKey=".concat(p)),this.torusIframe=T('<iframe\n        id="torusIframe"\n        allow='.concat(d?"camera":"",'\n        class="torusIframe"\n        src="').concat(g.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex,'"\n      ></iframe>')),this.torusAlertContainer=T('<div id="torusAlertContainer"></div>'),this.torusAlertContainer.style.display="none",this.torusAlertContainer.style.setProperty("z-index",this.alertZIndex.toString());const y=window.document.createElement("link");y.setAttribute("rel","stylesheet"),y.setAttribute("type","text/css"),y.setAttribute("href","".concat(l,"/css/widget.css")),this.styleLink=y;const{defaultLanguage:m=V(),customTranslations:b={}}=this.whiteLabel||{},v=f()(I.translations,b)[m]||I.translations[V()];this.embedTranslations=v.embed;const w=async()=>(await N(),new Promise(((e,t)=>{this.torusIframe.onload=async()=>{this._setupWeb3();const i=this.communicationMux.getStream("init_stream");i.on("data",(r=>{const{name:n,data:o,error:i}=r;"init_complete"===n&&o.success?(this.isInitialized=!0,this._displayIframe(this.isIframeFullScreen),e(void 0)):i&&t(new Error(i))})),i.write({name:"init_stream",data:{enabledVerifiers:r,loginConfig:o,whiteLabel:this.whiteLabel,buttonPosition:this.buttonPosition,torusWidgetVisibility:this.torusWidgetVisibility,apiKey:this.apiKey,skipTKey:c,network:n}})},window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)})));if("production"===e&&s.check){const e="".concat(l,"/popup"),t=await fetch(e,{cache:"reload"});if("max-age=3600"!==t.headers.get("Cache-Control"))throw new Error("Unexpected Cache-Control headers, got ".concat(t.headers.get("Cache-Control")));const r=await t.text(),n=$({algorithms:["sha384"]},r);if(D.info(n,"integrity"),n!==s.hash)throw this.clearInit(),new Error("Integrity check failed");await w()}else await w()}login(){let{verifier:e="",login_hint:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=e,this.loginHint=t,this.ethereum.enable()}logout(){return new Promise(((e,t)=>{if(!this.isLoggedIn)return void t(new Error("User has not logged in yet"));this.communicationMux.getStream("logout").write({name:"logOut"});const r=this.communicationMux.getStream("status");R(r,"data",(r=>{r.loggedIn?t(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",e())}))}))}async cleanUp(){this.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof HTMLDocument}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{host:t="mainnet",chainId:r=null,networkName:n=""}=e,i=o()(e,ne);return new Promise(((e,o)=>{const s=this.communicationMux.getStream("provider_change");R(s,"data",(t=>{const{err:r,success:n}=t.data;D.info(t),r?o(r):n?e():o(new Error("some error occured"))}));const a=q();this._handleWindow(a,{target:"_blank",features:H}),s.write({name:"show_provider_change",data:{network:ie({host:t,chainId:r,networkName:n},i),preopenInstanceId:a,override:!1}})}))}showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.communicationMux.getStream("show_wallet"),n=e?"/".concat(e):"";r.write({name:"show_wallet",data:{path:n}});R(r,"data",(e=>{if("show_wallet_instance"===e.name){const{instanceId:r}=e.data,o=new URL("".concat(this.torusUrl,"/wallet").concat(n));o.searchParams.append("integrity","true"),o.searchParams.append("instanceId",r),Object.keys(t).forEach((e=>{o.searchParams.append(e,t[e])})),this.dappStorageKey&&(o.hash="#dappStorageKey=".concat(this.dappStorageKey));new Z({url:o,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"}).open()}}))}async getPublicAddress(e){let{verifier:t,verifierId:r,isExtended:n=!1}=e;if(!I.supportedVerifierList.includes(t)||!P[t])throw new Error("Unsupported verifier");const o=await this.nodeDetailManager.getNodeDetails({verifier:t,verifierId:r}),i=o.torusNodeEndpoints,s=o.torusNodePub,a=t,c=P[t];try{const e=await this.torusJs.getUserTypeAndAddress(i,s,{verifier:a,verifierId:r});if("v1"===e.typeOfUser)return n?e:e.address;const t=await this.torusJs.getUserTypeAndAddress(i,s,{verifier:c,verifierId:r},!0);return n?t:t.address}catch(u){if(null!==u&&void 0!==u&&u.message.includes("Verifier + VerifierID has not yet been assigned")){const e=await this.torusJs.getUserTypeAndAddress(i,s,{verifier:c,verifierId:r},!0);return n?e:e.address}throw u}}getUserInfo(e){return new Promise(((t,r)=>{if(this.isLoggedIn){const n=this.communicationMux.getStream("user_info_access");n.write({name:"user_info_access_request"});const o=n=>{const{name:o,data:{approved:i,payload:s,rejected:a,newRequest:c}}=n;if("user_info_access_response"===o)if(i)t(s);else if(a)r(new Error("User rejected the request"));else if(c){const n=this.communicationMux.getStream("user_info");R(n,"data",(e=>{"user_info_response"===e.name&&(e.data.approved?t(e.data.payload):r(new Error("User rejected the request")))}));const o=q();this._handleWindow(o,{target:"_blank",features:H}),n.write({name:"user_info_request",data:{message:e,preopenInstanceId:o}})}};R(n,"data",o)}else r(new Error("User has not logged in yet"))}))}initiateTopup(e,t){return new Promise(((r,n)=>{if(this.isInitialized){const{errors:o,isValid:i}=((e,t)=>{const r={};if(!e)return{errors:r,isValid:!0};if(e&&!U[e])return r.provider="Invalid Provider",{errors:r,isValid:0===Object.keys(r).length};const n=U[e],o=t||{};if(o.fiatValue){const e=+parseFloat(o.fiatValue.toString())||0;e<n.minOrderValue&&(r.fiatValue="Requested amount is lower than supported"),e>n.maxOrderValue&&n.enforceMax&&(r.fiatValue="Requested amount is higher than supported")}return o.selectedCurrency&&!n.validCurrencies.includes(o.selectedCurrency)&&(r.selectedCurrency="Unsupported currency"),o.selectedCryptoCurrency&&!n.validCryptoCurrencies.includes(o.selectedCryptoCurrency)&&(r.selectedCryptoCurrency="Unsupported cryptoCurrency"),{errors:r,isValid:0===Object.keys(r).length}})(e,t);if(!i)return void n(new Error(JSON.stringify(o)));const s=this.communicationMux.getStream("topup");R(s,"data",(e=>{"topup_response"===e.name&&(e.data.success?r(e.data.success):n(new Error(e.data.error)))}));const a=q();this._handleWindow(a),s.write({name:"topup_request",data:{provider:e,params:t,preopenInstanceId:a}})}else n(new Error("Torus is not initialized yet"))}))}async loginWithPrivateKey(t){const{privateKey:r,userInfo:n}=t;return new Promise(((t,o)=>{if(this.isInitialized){if(32!==e.from(r,"hex").length)return void o(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));const i=this.communicationMux.getStream("login_with_private_key");R(i,"data",(e=>{"login_with_private_key_response"===e.name&&(e.data.success?t(e.data.success):o(new Error(e.data.error)))})),i.write({name:"login_with_private_key_request",data:{privateKey:r,userInfo:n}})}else o(new Error("Torus is not initialized yet"))}))}async showWalletConnectScanner(){if(!this.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise(((e,t)=>{if(this.isLoggedIn){const r=this.communicationMux.getStream("wallet_connect_stream");R(r,"data",(r=>{"wallet_connect_stream_res"===r.name&&(r.data.success?e(r.data.success):t(new Error(r.data.error)),this._displayIframe())})),r.write({name:"wallet_connect_stream_req"}),this._displayIframe(!0)}else t(new Error("User has not logged in yet"))}))}_handleWindow(e){let{url:t,target:r,features:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){const o=this.communicationMux.getStream("window"),i=new URL(t||"".concat(this.torusUrl,"/redirect?preopenInstanceId=").concat(e));this.dappStorageKey&&(i.hash?i.hash+="&dappStorageKey=".concat(this.dappStorageKey):i.hash="#dappStorageKey=".concat(this.dappStorageKey));const s=new Z({url:i,target:r,features:n});if(s.open(),!s.window)return void this._createPopupBlockAlert(e,i.href);o.write({name:"opened_window",data:{preopenInstanceId:e}});const a=t=>{let{preopenInstanceId:r,close:n}=t;r===e&&n&&(s.close(),o.removeListener("data",a))};o.on("data",a),s.once("close",(()=>{o.write({data:{preopenInstanceId:e,closed:!0}}),o.removeListener("data",a)}))}}_setEmbedWhiteLabel(e){const{theme:t}=this.whiteLabel||{};if(t){const{isDark:r=!1,colors:n={}}=t;r&&e.classList.add("torus-dark"),n.torusBrand1&&e.style.setProperty("--torus-brand-1",n.torusBrand1),n.torusGray2&&e.style.setProperty("--torus-gray-2",n.torusGray2)}}_getLogoUrl(){var e,t;let r="".concat(this.torusUrl,"/images/torus_icon-blue.svg");var n,o;null!==(e=this.whiteLabel)&&void 0!==e&&null!==(t=e.theme)&&void 0!==t&&t.isDark?r=(null===(n=this.whiteLabel)||void 0===n?void 0:n.logoLight)||r:r=(null===(o=this.whiteLabel)||void 0===o?void 0:o.logoDark)||r;return r}_sendWidgetVisibilityStatus(e){this.communicationMux.getStream("torus-widget-visibility").write({data:e})}_displayIframe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t={};if(e)t.display="block",t.width="100%",t.height="100%",t.top="0px",t.right="0px",t.left="0px",t.bottom="0px";else switch(t.display=this.torusWidgetVisibility?"block":"none",t.height="70px",t.width="70px",this.buttonPosition){case C.TOP_LEFT:t.top="0px",t.left="0px",t.right="auto",t.bottom="auto";break;case C.TOP_RIGHT:t.top="0px",t.right="0px",t.left="auto",t.bottom="auto";break;case C.BOTTOM_RIGHT:t.bottom="0px",t.right="0px",t.top="auto",t.left="auto";break;case C.BOTTOM_LEFT:default:t.bottom="0px",t.left="0px",t.top="auto",t.right="auto"}Object.assign(this.torusIframe.style,t),this.isIframeFullScreen=e}_setupWeb3(){D.info("setupWeb3 running");const e=new u.a({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),t=new u.a({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),r=new G(e),n=e=>{const t=r[e];r[e]=function(e){if(e&&"eth_requestAccounts"===e)return r.enable();for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.apply(this,[e,...o])}};n("send"),n("sendAsync"),r.enable=()=>new Promise(((e,t)=>{r.sendAsync({jsonrpc:"2.0",id:q(),method:"eth_requestAccounts",params:[]},((r,n)=>{const{result:o}=n||{};if(r)setTimeout((()=>{t(r)}),50);else if(Array.isArray(o)&&o.length>0){const r=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:r}=this;this.logout().then((n=>{this.requestedVerifier=r,this._showLoginPopup(!0,e,t)})).catch((e=>t(e)))}else e(o)};this.isLoggedIn?r():this.isLoginCallback=r}else this._showLoginPopup(!0,e,t)}))})),r.tryPreopenHandle=(e,t)=>{const n=e;if(!Array.isArray(n)&&ce.includes(n.method)){const e=q();this._handleWindow(e,{target:"_blank",features:z}),n.preopenInstanceId=e}r._rpcEngine.handle(n,t)};const o=new Proxy(r,{deleteProperty:()=>!0});this.ethereum=o;const i=Object(u.g)(t);this.communicationMux=i;i.getStream("window").on("data",(e=>{"create_window"===e.name&&this._createPopupBlockAlert(e.data.preopenInstanceId,e.data.url)}));i.getStream("widget").on("data",(e=>{const{data:t}=e;this._displayIframe(t)}));i.getStream("status").on("data",(e=>{e.loggedIn?(this.isLoggedIn=e.loggedIn,this.currentVerifier=e.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)})),this.provider=o,this.provider.shouldSendMetadata&&re(this.provider._rpcEngine),r._initializeState(),D.debug("Torus - injected provider")}_showLoginPopup(e,t,r){const n=e=>{const{err:n,selectedAddress:o}=e;n?(D.error(n),r&&r(n)):t&&t([o]),this.isIframeFullScreen&&this._displayIframe()},o=this.communicationMux.getStream("oauth");if(this.requestedVerifier){R(o,"data",n);const t=q();this._handleWindow(t),o.write({name:"oauth",data:{calledFromEmbed:e,verifier:this.requestedVerifier,preopenInstanceId:t,login_hint:this.loginHint}})}else this._displayIframe(!0),R(o,"data",n),o.write({name:"oauth_modal",data:{calledFromEmbed:e}})}_createPopupBlockAlert(e,t){const r=this._getLogoUrl(),n=T('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(r,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),o=T('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),i=T('<div id="torusAlert__btn-container"></div>');i.appendChild(o),n.appendChild(i);this._setEmbedWhiteLabel(n);M((()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(n)})),M((()=>{o.addEventListener("click",(()=>{this._handleWindow(e,{url:t,target:"_blank",features:z}),n.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")}))}))}}}.call(this,r(13).Buffer)},1988:function(e,t,r){var n=r(1989);e.exports=function(e,t){if(null==e)return{};var r,o,i=n(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},1989:function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},1990:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(1237),o=r.n(n),i=r(267),s=r.n(i),a=r(65);const c={ROPSTEN:"ropsten",MAINNET:"mainnet",POLYGON:"polygon-mainnet"},u=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}];class d{constructor(){let e,{network:t=c.MAINNET,proxyAddress:r="0xf20336e16B5182637f09821c27BDe29b0AFcfe80"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,"_currentEpoch","19"),o()(this,"_torusNodeEndpoints",["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"]),o()(this,"_torusNodePub",[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}]),o()(this,"_torusIndexes",[1,2,3,4,5,6,7,8,9]),o()(this,"_network",c.MAINNET),o()(this,"nodeListAddress",void 0),o()(this,"updated",void 0),o()(this,"nodeListContract",void 0);try{e=new URL(t).href}catch(n){const r="b8cdb0e4cff24599a286bf8e87ff1c96";e="https://".concat(t,".infura.io/v3/").concat(r)}s.a.setProvider(e),this.nodeListContract=new s.a(u,r),this.nodeListAddress=r,this.updated=!1,this._network=t}get _nodeDetails(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails(e){let{skip:t=!1,verifier:r,verifierId:n}=e;try{if(t&&this._network===c.MAINNET)return this._nodeDetails;if(this.updated&&this._network===c.MAINNET)return this._nodeDetails;const e=Object(a.keccak256)(n),o=await this.nodeListContract.methods.getNodeSet(r,e).call(),{currentEpoch:i,torusNodeEndpoints:s,torusNodePubX:u,torusNodePubY:d,torusIndexes:l}=o;this._currentEpoch=i,this._torusIndexes=l.map((e=>Number(e)));const f=[],h=[];for(let t=0;t<s.length;t+=1){const e=s[t],r=u[t],n=d[t],o="https://".concat(e.split(":")[0],"/jrpc");f.push(o),h.push({X:Object(a.toHex)(r).replace("0x",""),Y:Object(a.toHex)(n).replace("0x","")})}return this._torusNodeEndpoints=f,this._torusNodePub=h,this.updated=!0,this._nodeDetails}catch(o){if(this._network===c.MAINNET)return this._nodeDetails;throw o}}}},1991:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return P})),r.d(t,"c",(function(){return I})),r.d(t,"d",(function(){return w})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return x})),r.d(t,"g",(function(){return M}));var n=r(1237),o=r.n(n),i=r(146),s=r(1992),a=r(81),c=r(1406),u=r.n(c),d=r(1601),l=r.n(d),f=r(1493),h=r.n(f),p=r(1602),g=r.n(p);function y(){}const m="ACK";class b extends i.Duplex{constructor(e){let{name:t,target:r,targetWindow:n=window,targetOrigin:i="*"}=e;if(super({objectMode:!0}),o()(this,"_init",void 0),o()(this,"_haveSyn",void 0),o()(this,"_name",void 0),o()(this,"_target",void 0),o()(this,"_targetWindow",void 0),o()(this,"_targetOrigin",void 0),o()(this,"_onMessage",void 0),o()(this,"_synIntervalId",void 0),!t||!r)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=t,this._target=r,this._targetWindow=n,this._targetOrigin=i,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,y),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,y),this.cork()}_onData(e){if(this._init)if("BRK"===e)this._break();else try{this.push(e)}catch(t){this.emit("error",t)}else"SYN"===e?(this._haveSyn=!0,this._write(m,null,y)):e===m&&(this._init=!0,this._haveSyn||this._write(m,null,y),this.uncork())}_postMessage(e){const t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!==typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function v(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout((()=>{throw n}))}}class w extends a.EventEmitter{emit(e){let t="error"===e;const r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(t){let e;if(o.length>0&&([e]=o),e instanceof Error)throw e;const t=new Error("Unhandled error.".concat(e?" (".concat(e.message,")"):""));throw t.context=e,t}const s=r[e];if(void 0===s)return!1;if("function"===typeof s)v(s,this,o);else{const e=s.length,t=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(s);for(let r=0;r<e;r+=1)v(t[r],this,o)}return!0}}class _ extends Error{constructor(e){let{code:t,message:r,data:n}=e;if(!Number.isInteger(t))throw new Error("code must be an integer");if(!r||"string"!==typeof r)throw new Error("message must be string");super(r),o()(this,"code",void 0),o()(this,"data",void 0),this.code=t,void 0!==n&&(this.data=n)}toString(){return u()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function O(e){return e.toString()}function x(){const e={};const t=new w;const r=new i.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,o){let i;try{!r.id?function(e){t.emit("notification",e)}(r):function(t){const r=e[t.id];if(!r)throw new Error('StreamMiddleware - Unknown response id "'.concat(t.id,'"'));delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r)}catch(s){i=s}o(i)}});return{events:t,middleware:(t,n,o,i)=>{r.push(t),e[t.id]={req:t,res:n,next:o,end:i}},stream:r}}function S(){return(e,t,r,n)=>{const o=e.id,i=Object(s.a)();e.id=i,t.id=i,r((r=>{e.id=o,t.id=o,r()}))}}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}class P extends w{constructor(){super(),o()(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){const n=[];let o=null,i=!1;for(const s of r)if([o,i]=await P._runMiddleware(e,t,s,n),i)break;return[o,i,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((o=>{const i=e=>{const r=e||t.error;r&&(t.error=O(r)),o([r,!0])},s=e=>{t.error?i(t.error):(e&&("function"!==typeof e&&i(new _({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),o([null,!1]))};try{r(e,t,s,i)}catch(a){i(a)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new _({code:-32603,message:"Response has no error or result for request"});if(!r)throw new _({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[o,i,s]=await P._runAllMiddleware(e,t,this._middleware);return i?(await P._runReturnHandlers(s),n(o)):r((async e=>{try{await P._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(o){return n(o)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(r){if(t)return t(r);throw r}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const e=new _({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!==typeof e.method){const r=new _({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(s){i=s}return i&&(delete n.result,n.error||(n.error=O(i))),t(i,n)}async _processRequest(e,t){const[r,n,o]=await P._runAllMiddleware(e,t,this._middleware);if(P._checkForCompletion(e,t,n),await P._runReturnHandlers(o),r)throw r}}class j extends i.Duplex{constructor(e){let{parent:t,name:r}=e;super({objectMode:!0}),o()(this,"_parent",void 0),o()(this,"_name",void 0),this._parent=t,this._name=r}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A=Symbol("IGNORE_SUBSTREAM");class I extends i.Duplex{constructor(){super(C(C({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{objectMode:!0})),o()(this,"_substreams",void 0),o()(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));const t=new j({parent:this,name:e});return this._substreams[e]=t,function(e,t){const r=h()(t);l()(e,{readable:!1},r),l()(e,{writable:!1},r)}(this,(e=>t.destroy(e||void 0))),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "'.concat(e,'" already exists'));this._substreams[e]=A}_read(){}_write(e,t,r){const{name:n,data:o}=e;if(!n)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(e,'"')),r();const i=this._substreams[n];return i?(i!==A&&i.push(o),r()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(n,'"')),r())}}function M(e){const t=new I;return t.getStream=function(e){return this._substreams[e]?this._substreams[e]:this.createStream(e)},g()(e,t,e,(e=>{e&&window.console.error(e)})),t}},1992:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var n=r(98),o=r.n(n),i=(r(1237),r(1993)),s=r.n(i),a=r(412),c=r.n(a);const u=()=>o()(32).toString("hex");URL;s.a;c.a}).call(this,r(13).Buffer)},1993:function(e,t,r){e.exports=r(1994).default,e.exports.default=e.exports},1994:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1995);function o(t,r){return void 0===r&&(r="utf8"),e.isBuffer(t)?s(t.toString("base64")):s(e.from(t,r).toString("base64"))}function i(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function s(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var a=o;a.encode=o,a.decode=function(t,r){return void 0===r&&(r="utf8"),e.from(i(t),"base64").toString(r)},a.toBase64=i,a.fromBase64=s,a.toBuffer=function(t){return e.from(i(t),"base64")},t.default=a}).call(this,r(13).Buffer)},1995:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var r=t.length,n=r%4;if(!n)return t;var o=r,i=4-n,s=r+i,a=e.alloc(s);for(a.write(t);i--;)a.write("=",o++);return a.toString()}}).call(this,r(13).Buffer)},1996:function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"===typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},1998:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return X}));var n=r(1237),o=r.n(n),i=r(1603),s=r.n(i),a=r(1999),c=r.n(a),u=r(2e3),d=r.n(u),l=r(2001),f=r.n(l),h=r(1),p=r.n(h),g=r(2002),y=r(1599),m=r(16),b=r.n(m),v=r(143),w=r(1441),_=r.n(w),O=r(65),x=r(1492),S=r.n(x),k=r(2003),P=r.n(k),j=r(2004),E=r.n(j),C=r(1604),A=r.n(C),I=r(2006),M=r.n(I),T=r(2010),R=r.n(T),N=S.a.getLogger("torus.js");function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var o=A()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E()(this,r)}}N.disableAll();var L=function(e){P()(r,e);var t=D(r);function r(e){var n,o=e.errors,i=e.responses,s=e.predicate;return d()(this,r),(n=t.call(this,"Unable to resolve enough promises.")).errors=o,n.responses=i,n.predicate=s,n}return f()(r)}(M()(Error)),U=function(e,t){return new Promise((function(r,n){var o,i=0,s={resolved:!1},a=new Array(e.length).fill(void 0),c=new Array(e.length).fill(void 0);e.forEach((function(u,d){u.then((function(e){c[d]=e})).catch((function(e){a[d]=e})).finally((function(){s.resolved||t(c.slice(0),s).then((function(e){s.resolved=!0,r(e)})).catch((function(e){o=e})).finally((function(t){if((i+=1)===e.length){var r=Object.values(c.reduce((function(e,t){var r,n,o=t||{},i=o.id,s=o.error;return(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.length)>0&&(s.data.startsWith("Error occurred while verifying params")?e[i]=(n=s.data).charAt(0).toUpperCase()+n.slice(1):e[i]=s.data),e}),{}));if(r.length>0){var s=r.length>1?"\n".concat(r.map((function(e){return"\u2022 ".concat(e)})).join("\n")):r[0];n(new Error(s))}else{var u;n(new L({errors:a,responses:c,predicate:(null===(u=o)||void 0===u?void 0:u.message)||o}))}}}))}))}))}))};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var o=A()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E()(this,r)}}var V=function(e){P()(r,e);var t=F(r);function r(){return d()(this,r),t.apply(this,arguments)}return f()(r)}(M()(Error)),K=function e(t,r){var n=t;if("number"===typeof n&&(n=Array.from({length:n},(function(e,t){return t}))),r>n.length||r<=0)return[];if(r===n.length)return[n];if(1===r)return n.reduce((function(e,t){return[].concat(R()(e),[[t]])}),[]);for(var o=[],i=[],s=0;s<=n.length-r+1;s+=1){i=e(n.slice(s+1),r-1);for(var a=0;a<i.length;a+=1)o.push([n[s]].concat(R()(i[a])))}return o},W=function(e,t){for(var r={},n=0;n<e.length;n+=1){var o=_()(e[n]);if(r[o]=r[o]?r[o]+1:1,r[o]===t)return e[n]}},H=function(){var e=c()(p.a.mark((function e(t,r,n){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.map((function(e){return Object(y.c)(e,Object(y.a)("VerifierLookupRequest",{verifier:r,verifier_id:n.toString()})).catch((function(e){return N.error("lookup request failed",e)}))})),e.abrupt("return",U(o,(function(e){var r=e.filter((function(e){return e})),n=W(r.map((function(e){return e&&e.error})),1+~~(t.length/2)),o=W(r.map((function(e){return e&&e.result})),1+~~(t.length/2));return o||n?Promise.resolve({keyResult:o,errorResult:n}):Promise.reject(new Error("invalid results ".concat(JSON.stringify(e))))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),z=function(e,t,r,n){return new Promise((function(o,i){setTimeout((function(){H(e,t,r).then(o).catch(i)}),n)}))},J=function(){var e=c()(p.a.mark((function e(t){var r,n,o,i,s,a,c,u,d,l,f,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.endpoints,n=t.torusNodePubs,o=t.lastPoint,i=t.firstPoint,s=t.verifier,a=t.verifierId,c=t.signerHost,u=t.network,void 0===o?(d=Math.floor(Math.random()*r.length),l=d):d=o%r.length,d!==i){e.next=4;break}throw new Error("Looped through all");case 4:return void 0!==i&&(l=i),f=Object(y.a)("KeyAssign",{verifier:s,verifier_id:a.toString()}),e.prev=6,e.next=9,Object(y.c)(c,f,{headers:{pubKeyX:n[d].X,pubKeyY:n[d].Y,network:u}},{useAPIKey:!0});case 9:return h=e.sent,e.abrupt("return",Object(y.c)(r[d],q(q({},f),h),{headers:{"Content-Type":"application/json; charset=utf-8"}}));case 13:if(e.prev=13,e.t0=e.catch(6),N.error(e.t0),!["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."].includes(e.t0.message)){e.next=19;break}return e.abrupt("return",J({endpoints:r,torusNodePubs:n,lastPoint:d+1,firstPoint:l,verifier:s,verifierId:a,signerHost:c,network:u}));case 19:throw new Error("Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \n\n    ".concat(e.t0.message||""));case 20:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.enableOneKey,n=void 0!==r&&r,o=e.metadataHost,i=void 0===o?"https://metadata.tor.us":o,s=e.allowHost,a=void 0===s?"https://signer.tor.us/api/allow":s,c=e.signerHost,u=void 0===c?"https://signer.tor.us/api/sign":c,l=e.serverTimeOffset,f=void 0===l?0:l,h=e.network,p=void 0===h?"mainnet":h;d()(this,t),this.ec=new v.ec("secp256k1"),this.metadataHost=i,this.allowHost=a,this.enableOneKey=n,this.serverTimeOffset=f||0,this.signerHost=u,this.network=p}return f()(t,[{key:"getUserTypeAndAddress",value:function(){var e=c()(p.a.mark((function e(t,r,n){var o,i,s,a,c,u,d,l,f,h,g,y,m,v,w,_,O,x,S,k,P,j=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.verifier,i=n.verifierId,s=j.length>3&&void 0!==j[3]&&j[3],e.next=4,H(t,o,i);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:if(a=e.t0,c=a.keyResult,u=a.errorResult,d=!1,!u||!JSON.stringify(u).includes("Verifier + VerifierID has not yet been assigned")){e.next=26;break}if(s){e.next=14;break}throw new Error("Verifier + VerifierID has not yet been assigned");case 14:return e.next=16,J({endpoints:t,torusNodePubs:r,lastPoint:void 0,firstPoint:void 0,verifier:o,verifierId:i,signerHost:this.signerHost,network:this.network});case 16:return e.next=18,z(t,o,i,1e3);case 18:if(e.t1=e.sent,e.t1){e.next=21;break}e.t1={};case 21:f=e.t1,l=f.keyResult,d=!0,e.next=31;break;case 26:if(!c){e.next=30;break}l=c,e.next=31;break;case 30:throw new Error("node results do not match at first lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(u||{})));case 31:if(!l){e.next=61;break}return h=l.keys[0],g=h.pub_key_X,y=h.pub_key_Y,e.prev=33,e.next=37,this.getOrSetNonce(g,y,void 0,!d);case 37:x=e.sent,m=x.typeOfUser,v=x.nonce,w=x.pubNonce,O=x.upgraded,v=new b.a(v||"0",16),e.next=48;break;case 45:throw e.prev=45,e.t2=e.catch(33),new V;case 48:if("v1"!==m){e.next=52;break}_=this.ec.keyFromPublic({x:g.toString(16),y:y.toString(16)}).getPublic().add(this.ec.keyFromPrivate(v.toString(16)).getPublic()),e.next=57;break;case 52:if("v2"!==m){e.next=56;break}_=this.ec.keyFromPublic({x:g.toString(16),y:y.toString(16)}).getPublic().add(this.ec.keyFromPublic({x:w.x,y:w.y}).getPublic()),e.next=57;break;case 56:throw new Error("getOrSetNonce should always return typeOfUser.");case 57:return S=_.getX().toString(16),k=_.getY().toString(16),P=this.generateAddressFromPubKey(_.getX(),_.getY()),e.abrupt("return",{typeOfUser:m,nonce:v,pubNonce:w,upgraded:O,X:S,Y:k,address:P});case 61:throw new Error("node results do not match at final lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(u||{})));case 62:case"end":return e.stop()}}),e,this,[[33,45]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setCustomKey",value:function(){var e=c()(p.a.mark((function e(t){var r,n,o,i,s,a,c,u,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.privKeyHex,n=t.metadataNonce,o=t.torusKeyHex,i=t.customKeyHex,o?s=new b.a(o,16):(a=new b.a(r,16),s=a.sub(n).umod(this.ec.curve.n)),c=new b.a(i,16),u=c.sub(s).umod(this.ec.curve.n),d=this.generateMetadataParams(u.toString(16),s.toString(16)),e.next=7,this.setMetadata(d);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveShares",value:function(){var t=c()(p.a.mark((function t(r,n,o,i,a){var u,d,l,f,h,m,v,w,_,x=this,S=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=S.length>5&&void 0!==S[5]?S[5]:{},d=[],t.next=4,Object(y.b)(this.allowHost,{headers:{verifier:o,verifier_id:i.verifier_id,network:this.network}},{useAPIKey:!0});case 4:for(l=Object(g.generatePrivate)(),f=Object(g.getPublic)(l).toString("hex"),h=f.slice(2,66),m=f.slice(66),v=Object(O.keccak256)(a),w=0;w<r.length;w+=1)_=Object(y.c)(r[w],Object(y.a)("CommitmentRequest",{messageprefix:"mug00",tokencommitment:v.slice(2),temppubx:h,temppuby:m,verifieridentifier:o})).catch((function(e){return N.error("commitment",e)})),d.push(_);return t.abrupt("return",U(d,(function(e){return e.filter((function(e){return!(!e||"object"!==s()(e))&&!e.error})).length>=3*~~(r.length/4)+1?Promise.resolve(e):Promise.reject(new Error("invalid ".concat(JSON.stringify(e))))})).then((function(t){for(var s=[],d=[],f=0;f<t.length;f+=1)t[f]&&d.push(t[f].result);for(var h=0;h<r.length;h+=1){var m=Object(y.c)(r[h],Object(y.a)("ShareRequest",{encrypted:"yes",item:[G(G({},i),{},{idtoken:a,nodesignatures:d,verifieridentifier:o},u)]})).catch((function(e){return N.error("share req",e)}));s.push(m)}return U(s,function(){var t=c()(p.a.mark((function t(o,i){var s,a,c,u,d,f,h,y,m,v,w,_;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.filter((function(e){return e})),a=W(o.map((function(e){return e&&e.result&&e.result.keys[0].PublicKey})),1+~~(r.length/2)),!(s.length>=1+~~(r.length/2)&&a)){t.next=25;break}for(c=[],u=[],d=0;d<o.length;d+=1)o[d]&&o[d].result&&o[d].result.keys&&o[d].result.keys.length>0?(o[d].result.keys.sort((function(e,t){return new b.a(e.Index,16).cmp(new b.a(t.Index,16))})),o[d].result.keys[0].Metadata?(f={ephemPublicKey:e.from(o[d].result.keys[0].Metadata.ephemPublicKey,"hex"),iv:e.from(o[d].result.keys[0].Metadata.iv,"hex"),mac:e.from(o[d].result.keys[0].Metadata.mac,"hex"),mode:e.from(o[d].result.keys[0].Metadata.mode,"hex")},c.push(Object(g.decrypt)(l,G(G({},f),{},{ciphertext:e.from(atob(o[d].result.keys[0].Share).padStart(64,"0"),"hex")})).catch((function(e){return N.debug("share decryption",e)})))):c.push(Promise.resolve(e.from(o[d].result.keys[0].Share.padStart(64,"0"),"hex")))):c.push(Promise.resolve(void 0)),u.push(new b.a(n[d],16));return t.next=8,Promise.all(c);case 8:if(h=t.sent,!i.resolved){t.next=11;break}return t.abrupt("return",void 0);case 11:y=h.reduce((function(e,t,r){return t&&e.push({index:u[r],value:new b.a(t)}),e}),[]),m=K(y.length,1+~~(r.length/2)),w=function(t){var r=m[t],n=y.filter((function(e,t){return r.includes(t)})),o=n.map((function(e){return e.value})),i=n.map((function(e){return e.index})),s=x.lagrangeInterpolation(o,i),c=Object(g.getPublic)(e.from(s.toString(16,64),"hex")).toString("hex"),u=c.slice(2,66),d=c.slice(66);if(0===new b.a(u,16).cmp(new b.a(a.X,16))&&0===new b.a(d,16).cmp(new b.a(a.Y,16)))return v=s,"break"},_=0;case 15:if(!(_<m.length)){t.next=22;break}if("break"!==w(_)){t.next=19;break}return t.abrupt("break",22);case 19:_+=1,t.next=15;break;case 22:if(void 0!==v){t.next=24;break}throw new Error("could not derive private key");case 24:return t.abrupt("return",v);case 25:throw new Error("invalid");case 26:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())})).then(function(){var t=c()(p.a.mark((function t(r){var n,o,i,s,a,c,u,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r,o=Object(g.getPublic)(e.from(n.toString(16,64),"hex")).toString("hex"),i=o.slice(2,66),s=o.slice(66),!x.enableOneKey){t.next=12;break}return t.next=7,x.getNonce(i,s,n);case 7:c=t.sent,u=c.nonce,a=new b.a(u||"0",16),t.next=15;break;case 12:return t.next=14,x.getMetadata({pub_key_X:i,pub_key_Y:s});case 14:a=t.sent;case 15:return N.debug("> torus.js/retrieveShares",{privKey:n.toString(16),metadataNonce:a.toString(16)}),n=n.add(a).umod(x.ec.curve.n),d=x.generateAddressFromPrivKey(n),N.debug("> torus.js/retrieveShares",{ethAddress:d,privKey:n.toString(16)}),t.abrupt("return",{ethAddress:d,privKey:n.toString("hex",64),metadataNonce:a});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:case"end":return t.stop()}}),t,this)})));return function(e,r,n,o,i){return t.apply(this,arguments)}}()},{key:"getMetadata",value:function(){var e=c()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.c)("".concat(this.metadataHost,"/get"),t,r,{useAPIKey:!0});case 3:if((n=e.sent)&&n.message){e.next=6;break}return e.abrupt("return",new b.a(0));case 6:return e.abrupt("return",new b.a(n.message,16));case 9:return e.prev=9,e.t0=e.catch(0),N.error("get metadata error",e.t0),e.abrupt("return",new b.a(0));case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"generateMetadataParams",value:function(t,r){var n=this.ec.keyFromPrivate(r.toString("hex",64)),o={data:t,timestamp:new b.a(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},i=n.sign(Object(O.keccak256)(_()(o)).slice(2));return{pub_key_X:n.getPublic().getX().toString("hex"),pub_key_Y:n.getPublic().getY().toString("hex"),set_data:o,signature:e.from(i.r.toString(16,64)+i.s.toString(16,64)+new b.a(i.v).toString(16,2),"hex").toString("base64")}}},{key:"setMetadata",value:function(){var e=c()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.c)("".concat(this.metadataHost,"/set"),t,r,{useAPIKey:!0});case 3:return n=e.sent,e.abrupt("return",n.message);case 7:return e.prev=7,e.t0=e.catch(0),N.error("set metadata error",e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"lagrangeInterpolation",value:function(e,t){if(e.length!==t.length)return null;for(var r=new b.a(0),n=0;n<e.length;n+=1){for(var o=new b.a(1),i=new b.a(1),s=0;s<e.length;s+=1)if(n!==s){o=(o=o.mul(t[s].neg())).umod(this.ec.curve.n);var a=t[n].sub(t[s]);a=a.umod(this.ec.curve.n),i=i.mul(a).umod(this.ec.curve.n)}var c=o.mul(i.invm(this.ec.curve.n)).umod(this.ec.curve.n);c=c.mul(e[n]).umod(this.ec.curve.n),r=r.add(c)}return r.umod(this.ec.curve.n)}},{key:"generateAddressFromPrivKey",value:function(t){var r=this.ec.keyFromPrivate(t.toString("hex",64),"hex").getPublic().encode("hex").slice(2),n="0x".concat(Object(O.keccak256)(e.from(r,"hex")).slice(26));return Object(O.toChecksumAddress)(n)}},{key:"generateAddressFromPubKey",value:function(t,r){var n=this.ec.keyFromPublic({x:t.toString("hex",64),y:r.toString("hex",64)}).getPublic().encode("hex").slice(2),o="0x".concat(Object(O.keccak256)(e.from(n,"hex")).slice(26));return Object(O.toChecksumAddress)(o)}},{key:"getPublicAddress",value:function(){var e=c()(p.a.mark((function e(t,r,n){var o,i,s,a,c,u,d,l,f,h,g,y,m,v,w,_,O,x,S,k,P=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.verifier,i=n.verifierId,s=P.length>3&&void 0!==P[3]&&P[3],N.debug("> torus.js/getPublicAddress",{endpoints:t,torusNodePubs:r,verifier:o,verifierId:i,isExtended:s}),c=!1,e.next=6,H(t,o,i);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:if(u=e.t0,d=u.keyResult,!(l=u.errorResult)||!JSON.stringify(l).includes("Verifier not supported")){e.next=16;break}throw new Error("Verifier not supported. Check if you: \n\n      1. Are on the right network (Torus testnet/mainnet) \n\n      2. Have setup a verifier on dashboard.web3auth.io?");case 16:if(!l||!JSON.stringify(l).includes("Verifier + VerifierID has not yet been assigned")){e.next=29;break}return e.next=19,J({endpoints:t,torusNodePubs:r,lastPoint:void 0,firstPoint:void 0,verifier:o,verifierId:i,signerHost:this.signerHost,network:this.network});case 19:return e.next=21,z(t,o,i,1e3);case 21:if(e.t1=e.sent,e.t1){e.next=24;break}e.t1={};case 24:f=e.t1,a=f.keyResult,c=!0,e.next=34;break;case 29:if(!d){e.next=33;break}a=d,e.next=34;break;case 33:throw new Error("node results do not match at first lookup ".concat(JSON.stringify(d||{}),", ").concat(JSON.stringify(l||{})));case 34:if(N.debug("> torus.js/getPublicAddress",{finalKeyResult:a,isNewKey:c}),!a){e.next=76;break}if(g=a.keys[0],y=g.pub_key_X,m=g.pub_key_Y,!this.enableOneKey){e.next=64;break}return e.prev=38,e.next=42,this.getOrSetNonce(y,m,void 0,!c);case 42:S=e.sent,v=S.typeOfUser,w=S.nonce,_=S.pubNonce,x=S.upgraded,w=new b.a(w||"0",16),e.next=53;break;case 50:throw e.prev=50,e.t2=e.catch(38),new V;case 53:if("v1"!==v){e.next=57;break}O=this.ec.keyFromPublic({x:y.toString(16),y:m.toString(16)}).getPublic().add(this.ec.keyFromPrivate(w.toString(16)).getPublic()),e.next=62;break;case 57:if("v2"!==v){e.next=61;break}O=x?this.ec.keyFromPublic({x:y.toString(16),y:m.toString(16)}).getPublic():this.ec.keyFromPublic({x:y.toString(16),y:m.toString(16)}).getPublic().add(this.ec.keyFromPublic({x:_.x,y:_.y}).getPublic()),e.next=62;break;case 61:throw new Error("getOrSetNonce should always return typeOfUser.");case 62:e.next=69;break;case 64:return v="v1",e.next=67,this.getMetadata({pub_key_X:y,pub_key_Y:m});case 67:w=e.sent,O=this.ec.keyFromPublic({x:y.toString(16),y:m.toString(16)}).getPublic().add(this.ec.keyFromPrivate(w.toString(16)).getPublic());case 69:if(y=O.getX().toString(16),m=O.getY().toString(16),k=this.generateAddressFromPubKey(O.getX(),O.getY()),N.debug("> torus.js/getPublicAddress",{X:y,Y:m,address:k,typeOfUser:v,nonce:null===(h=w)||void 0===h?void 0:h.toString(16),pubNonce:_}),s){e.next=75;break}return e.abrupt("return",k);case 75:return e.abrupt("return",{typeOfUser:v,address:k,X:y,Y:m,metadataNonce:w,pubNonce:_});case 76:throw new Error("node results do not match at final lookup ".concat(JSON.stringify(d||{}),", ").concat(JSON.stringify(l||{})));case 77:case"end":return e.stop()}}),e,this,[[38,50]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getOrSetNonce",value:function(){var e=c()(p.a.mark((function e(t,r,n){var o,i,s,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]&&a[3],s=o?"getNonce":"getOrSetNonce",i=n?this.generateMetadataParams(s,n):{pub_key_X:t,pub_key_Y:r,set_data:{data:s}},e.abrupt("return",Object(y.c)("".concat(this.metadataHost,"/get_or_set_nonce"),i,void 0,{useAPIKey:!0}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getNonce",value:function(){var e=c()(p.a.mark((function e(t,r,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getOrSetNonce(t,r,n,!0));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getPostboxKeyFrom1OutOf1",value:function(e,t){var r=new b.a(e,16),n=new b.a(t,16);return r.sub(n).umod(this.ec.curve.n).toString("hex")}}],[{key:"enableLogging",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?N.enableAll():N.disableAll()}},{key:"setAPIKey",value:function(e){Object(y.d)(e)}},{key:"setEmbedHost",value:function(e){Object(y.e)(e)}},{key:"isGetOrSetNonceError",value:function(e){return e instanceof V}}]),t}()}).call(this,r(13).Buffer)},1999:function(e,t){function r(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},2e3:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},2001:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},2002:function(e,t,r){"use strict";(function(e,n){var o=new(0,r(143).ec)("secp256k1"),i=e.crypto||e.msCrypto||{},s=i.subtle||i.webkitSubtle,a=r(166);const c=n.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),u=n.alloc(32,0);function d(e,t){if(!e)throw new Error(t||"Assertion failed")}function l(e){return t=e,!(!n.isBuffer(t)||32!==t.length)&&(e.compare(u)>0&&e.compare(c)<0);var t}function f(e){var t=new Uint8Array(e);return"undefined"===typeof i.getRandomValues?n.from(a.randomBytes(e)):(i.getRandomValues(t),n.from(t))}function h(e){return new Promise((function(t){var r=a.createHash("sha512").update(e).digest();t(new Uint8Array(r))}))}function p(e){return function(t,r,o){return new Promise((function(i){if(s){return s.importKey("raw",r,{name:"AES-CBC"},!1,[e]).then((function(r){var n={name:"AES-CBC",iv:t};return s[e](n,r,o)})).then((function(e){i(n.from(new Uint8Array(e)))}))}if("encrypt"===e){var c=a.createCipheriv("aes-256-cbc",r,t);let e=c.update(o),s=c.final();i(n.concat([e,s]))}else if("decrypt"===e){var u=a.createDecipheriv("aes-256-cbc",r,t);let e=u.update(o),s=u.final();i(n.concat([e,s]))}}))}}var g=p("encrypt"),y=p("decrypt");t.generatePrivate=function(){for(var e=f(32);!l(e);)e=f(32);return e};var m=t.getPublic=function(e){return d(32===e.length,"Bad private key"),d(l(e),"Bad private key"),n.from(o.keyFromPrivate(e).getPublic("arr"))};t.getPublicCompressed=function(e){d(32===e.length,"Bad private key"),d(l(e),"Bad private key");return n.from(o.keyFromPrivate(e).getPublic(!0,"arr"))};t.sign=function(e,t){return new Promise((function(r){d(32===e.length,"Bad private key"),d(l(e),"Bad private key"),d(t.length>0,"Message should not be empty"),d(t.length<=32,"Message is too long"),r(n.from(o.sign(t,e,{canonical:!0}).toDER()))}))},t.verify=function(e,t,r){return new Promise((function(n,i){d(65===e.length||33===e.length,"Bad public key"),65===e.length&&d(4===e[0],"Bad public key"),33===e.length&&d(2===e[0]||3===e[0],"Bad public key"),d(t.length>0,"Message should not be empty"),d(t.length<=32,"Message is too long"),o.verify(t,r,e)?n(null):i(new Error("Bad signature"))}))};var b=t.derive=function(e,t){return new Promise((function(r){d(n.isBuffer(e),"Bad private key"),d(n.isBuffer(t),"Bad public key"),d(32===e.length,"Bad private key"),d(l(e),"Bad private key"),d(65===t.length||33===t.length,"Bad public key"),65===t.length&&d(4===t[0],"Bad public key"),33===t.length&&d(2===t[0]||3===t[0],"Bad public key");var i=o.keyFromPrivate(e),s=o.keyFromPublic(t),a=i.derive(s.getPublic());r(n.from(a.toArray()))}))};t.encrypt=function(e,t,r){var o,i,s,c;return r=r||{},new Promise((function(t){for(var n=r.ephemPrivateKey||f(32);!l(n);)n=r.ephemPrivateKey||f(32);i=m(n),t(b(n,e))})).then((function(e){return h(e)})).then((function(e){o=r.iv||f(16);var n=e.slice(0,32);return c=e.slice(32),g(o,n,t)})).then((function(e){s=e;var t=n.concat([o,i,s]);return function(e,t){return new Promise((function(r){var o=a.createHmac("sha256",n.from(e));o.update(t),r(o.digest())}))}(c,t)})).then((function(e){return{iv:o,ephemPublicKey:i,ciphertext:s,mac:e}}))},t.decrypt=function(e,t){var r;return b(e,t.ephemPublicKey).then((function(e){return h(e)})).then((function(e){r=e.slice(0,32);var o,i,s,c=e.slice(32),u=n.concat([t.iv,t.ephemPublicKey,t.ciphertext]);return o=c,i=u,s=t.mac,new Promise((function(e){var t=a.createHmac("sha256",n.from(o));t.update(i),e(function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(t.digest(),s))}))})).then((function(e){return d(e,"Bad MAC"),y(t.iv,r,t.ciphertext)})).then((function(e){return n.from(new Uint8Array(e))}))}}).call(this,r(35),r(13).Buffer)},2003:function(e,t,r){var n=r(1494);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},2004:function(e,t,r){var n=r(1603).default,o=r(2005);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2005:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},2006:function(e,t,r){var n=r(1604),o=r(1494),i=r(2007),s=r(2008);function a(t){var r="function"===typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return s(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},2007:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},2008:function(e,t,r){var n=r(1494),o=r(2009);function i(t,r,s){return o()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},2009:function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},2010:function(e,t,r){var n=r(2011),o=r(2012),i=r(2013),s=r(2014);e.exports=function(e){return n(e)||o(e)||i(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},2011:function(e,t,r){var n=r(1605);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2012:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2013:function(e,t,r){var n=r(1605);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},2014:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2015:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2016),t),o(r(2017),t),o(r(2018),t),o(r(1495),t),o(r(2019),t)},2016:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeAsStream=void 0;const n=r(422);class o extends n.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=e=>this.push(e),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,t){const r=super.pipe(e,t);return e.write(this.obsStore.getState()),r}_write(e,t,r){this.obsStore.putState(e),r()}_read(e){}_destroy(e,t){this.obsStore.unsubscribe(this.handler),super._destroy(e,t)}}t.storeAsStream=function(e){return new o(e)}},2017:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComposedStore=void 0;const n=r(1495);class o extends n.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach((e=>{const t=this._children[e];this._addChild(e,t)}))}_addChild(e,t){const r=t=>{const r=this.getState();r[e]=t,this.putState(r)};t.subscribe(r),r(t.getState())}}t.ComposedStore=o},2018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergedStore=void 0;const n=r(1495);class o extends n.ObservableStore{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super({}),this._children=e,e.forEach((e=>this._addChild(e))),this._updateWholeState()}_addChild(e){e.subscribe((()=>this._updateWholeState()))}_updateWholeState(){const e=this._children.map((e=>e.getState())),t=Object.assign({},...e);this.putState(t)}}t.MergedStore=o},2019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeTransformStream=void 0;const n=r(2020);t.storeTransformStream=function(e){return n.obj(((t,r,n)=>{try{return void n(null,e(t))}catch(o){return void n(o)}}))}},2020:function(e,t,r){(function(t){var n=r(146).Transform,o=r(258).inherits,i=r(261);function s(e){n.call(this,e),this._destroyed=!1}function a(e,t,r){r(null,e)}function c(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=a),"function"!=typeof n&&(n=null),e(t,r,n)}}o(s,n),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var r=this;t.nextTick((function(){e&&r.emit("error",e),r.emit("close")}))}},e.exports=c((function(e,t,r){var n=new s(e);return n._transform=t,r&&(n._flush=r),n})),e.exports.ctor=c((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=i(e,t),s.call(this,this.options)}return o(n,s),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),e.exports.obj=c((function(e,t,r){var n=new s(i({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this,r(31))},2021:function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!==o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!==o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!==o--;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}},2022:function(e,t,r){"use strict";const n=e=>null!==e&&"object"===typeof e&&"function"===typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"===typeof e._transform,e.exports=n}}]);
//# sourceMappingURL=16.428a218e.chunk.js.map